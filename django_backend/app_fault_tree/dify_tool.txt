openapi: 3.1.0
info:
  title: Get All Table Names and Comments
  description: Retrieves all table names and comments from a specified database instance and schema.
  version: v1.0.0
servers:
  - url: http://172.20.10.2:8000
paths:
  /api/fault_tree/v1/get_all_table_names_and_comments/:
    post:
      description: Get all table names and comments for a specific database instance and schema.
      operationId: GetAllTableNamesAndComments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                instance_name:
                  type: string
                  description: The database instance name (e.g., "82.156.146.51_3306").
                  example: "82.156.146.51_3306"
                schema_name:
                  type: string
                  description: The schema name to retrieve the table information from (e.g., "cloud4db").
                  example: "cloud4db"
      responses:
        '200':
          description: Successful response with table names and comments.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "ok"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        TABLE_NAME:
                          type: string
                          example: "auth_group"
                        TABLE_COMMENT:
                          type: string
                          example: "数据库集群信息表"
                  message:
                    type: string
                    example: "获取库中所有表名和表备注成功"
                  code:
                    type: integer
                    example: 200
        '400':
          description: Bad request, invalid parameters.
        '500':
          description: Internal server error.
components:
  schemas: {}





openapi: 3.1.0
info:
  title: Get Table Structures
  description: Retrieves the structure of specified tables from a database instance and schema.
  version: v1.0.0
servers:
  - url: http://172.20.10.2:8000
paths:
  /api/fault_tree/v1/get_table_structures/:
    post:
      description: Get the structure of specified tables for a specific database instance and schema.
      operationId: GetTableStructures
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                instance_name:
                  type: string
                  description: The database instance name (e.g., "82.156.146.51_3306").
                  example: "82.156.146.51_3306"
                schema_name:
                  type: string
                  description: The schema name to retrieve the table structure from (e.g., "cloud4db").
                  example: "cloud4db"
                table_names:
                  type: string
                  description: The name of the table(s) to retrieve the structure for (e.g., "auth_group,mysql_cluster").
                  example: "auth_group,mysql_cluster"
      responses:
        '200':
          description: Successful response with table structure.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "ok"
                  data:
                    type: string
                    example: "CREATE TABLE `auth_group` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(150) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `name` (`name`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8"
                  message:
                    type: string
                    example: "获取库中所有表名和表备注成功"
                  code:
                    type: integer
                    example: 200
        '400':
          description: Bad request, invalid parameters.
        '500':
          description: Internal server error.
components:
  schemas: {}