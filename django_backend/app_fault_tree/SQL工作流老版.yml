app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: SQLå·¥ä½œæµè€ç‰ˆ
  use_icon_as_answer_icon: false
dependencies: []
kind: app
version: 0.3.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: agent
      id: 1747796290742-source-1747810753072-target
      source: '1747796290742'
      sourceHandle: source
      target: '1747810753072'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: agent
        targetType: answer
      id: 1747810753072-source-answer-target
      source: '1747810753072'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: instance_name
          max_length: 64
          options: []
          required: true
          type: text-input
          variable: instance_name
        - label: schema_name
          max_length: 64
          options: []
          required: true
          type: text-input
          variable: schema_name
        - label: tables
          max_length: 10240
          options: []
          required: false
          type: paragraph
          variable: tables
      height: 209
      id: '1747796290742'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747810753072.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 140
      id: answer
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        agent_parameters:
          instruction:
            type: constant
            value: 'ä½ æ˜¯ä¸€ä½é«˜çº§æ•°æ®åº“ä¸“å®¶ï¼Œæ“…é•¿SQLç¼–å†™

              # ç”¨æˆ·è¾“å…¥

              - æ•°æ®åº“å®ä¾‹åœ°å€ï¼š{{#1747796290742.instance_name#}}

              - æ•°æ®åº“åº“å: {{#1747796290742.schema_name#}}

              - ç”¨æˆ·é€‰æ‹©çš„è¡¨å: {{#1747796290742.tables#}}

              # å›ç­”ç”¨æˆ·é—®é¢˜ä¹‹å‰å…ˆæ˜ç¡®ç”¨æˆ·çš„æ„å›¾æ˜¯æŸ¥è¯¢ä¸šåŠ¡æ•°æ®ã€æ•°æ®åº“å…ƒæ•°æ®ã€é—®å€™ç±»åœºæ™¯å†ä¾æ®åœºæ™¯è¦æ­¥éª¤æ±‚è¿›è¡Œå›å¤


              # æŸ¥è¯¢ä¸šåŠ¡æ•°æ®åœºæ™¯

              ## å¤„ç†æµç¨‹

              - ç”¨æˆ·æœªæä¾›è¡¨åæµç¨‹

              1.ä½¿ç”¨å·¥å…·è·å–æ‰€æœ‰è¡¨åï¼Œç„¶åä¾é€‰æ‹©ä¸ç”¨æˆ·é—®å¤´ç›¸å…³è”çš„è¡¨å

              2.ç”¨å·¥å…·è·å–å¯¹åº”è¡¨åçš„è¡¨ç»“æ„

              3.ä¾æ®å·¥å…·è·å–çš„è¡¨ç»“æ„å›ç­”ç”¨æˆ·é—®é¢˜

              - ç”¨æˆ·æä¾›è¡¨åæµç¨‹

              1.ç”¨å·¥å…·è·å–å¯¹åº”è¡¨åçš„è¡¨ç»“æ„

              2.ä¾æ®å·¥å…·è·å–çš„è¡¨ç»“æ„å›ç­”ç”¨æˆ·é—®é¢˜


              # æŸ¥è¯¢å½“å‰å®ä¾‹æ•°æ®åº“éä¸šåŠ¡æ•°æ®åœºæ™¯

              ## å¤„ç†æµç¨‹

              ä¾æ®æ•°æ®åº“ç±»å‹ï¼ˆé»˜è®¤mysqlï¼‰å’Œç”¨æˆ·é—®é¢˜è¿”å›çš„SQLï¼Œä¸éœ€è¦è°ƒç”¨å·¥å…·



              # é—®å€™ç±»åœºæ™¯

              ## å‘Šè¯‰ç”¨æˆ·è‡ªå·±æ˜¯ä¸€ä¸ªSQLç”ŸæˆåŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·ç”ŸæˆSQLï¼Œä½ å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°ä¸šåŠ¡éœ€æ±‚ï¼Œæˆ‘æ¥å¸®åŠ©ä½ ç”ŸæˆSQLï¼Œå¦‚æœé€‰æ‹©è¡¨åä¼šæå‡å‡†ç¡®åº¦


              # è¾“å‡ºè¦æ±‚

              - åªè¾“å‡ºSQLï¼Œä¸è¾“å‡ºé¢å¤–ä¿¡æ¯ï¼Œä¸è¦ç”¨markdownæ ¼å¼åŒ…è£¹SQL

              - åªèƒ½è¾“å‡ºselectã€showç±»éé«˜å±SQL

              - å¦‚æœæ˜¯selectè¯­å¥ä¸”ç”¨æˆ·æ²¡æœ‰æ˜ç¡®è¿”å›å¤šå°‘åˆ™è‡ªåŠ¨åœ¨æœ«å°¾å¢åŠ limit 100ï¼Œå¦‚æœç”¨æˆ·æ˜ç¡®è¿”å›æ•°é‡åˆ™æŒ‰ç…§ç”¨æˆ·æè¿°çš„è¿”å›

              - ä¸è¦ç”¨"*"é€šé…ç¬¦æŸ¥è¯¢æ•°æ®

              - å¦‚æœè¡¨å­—æ®µä¸ºå¤§å­—æ®µç±»å‹ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰æ˜ç¡®è¦æ±‚è¯¥å­—æ®µåˆ™é»˜è®¤ä¸è¦å°†å¤§å­—æ®µè¿”å›ï¼Œå¦‚æœçœç•¥äº†å¤§å­—æ®µåˆ™å‘Šè¯‰ç”¨æˆ·å¤§å­—æ®µæŸ¥è¯¢å½±å“æ€§èƒ½ï¼Œæ‰€æœ‰æ²¡æœ‰å±•ç¤º'
          model:
            type: constant
            value:
              completion_params: {}
              mode: chat
              model: deepseek-coder
              model_type: llm
              provider: langgenius/deepseek/deepseek
              type: model-selector
          query:
            type: constant
            value: '{{#sys.query#}}'
          tools:
            type: constant
            value:
            - enabled: true
              extra:
                description: Get all table names and comments for a specific database
                  instance and schema.
              parameters:
                instance_name:
                  auto: 1
                  value: null
                schema_name:
                  auto: 1
                  value: null
              provider_name: 3cec25f6-cf2f-4474-83ea-6c1ac460396f
              schemas:
              - auto_generate: null
                default: null
                form: llm
                human_description:
                  en_US: The database instance name (e.g., "82.156.146.51_3306").
                  ja_JP: The database instance name (e.g., "82.156.146.51_3306").
                  pt_BR: The database instance name (e.g., "82.156.146.51_3306").
                  zh_Hans: The database instance name (e.g., "82.156.146.51_3306").
                label:
                  en_US: instance_name
                  ja_JP: instance_name
                  pt_BR: instance_name
                  zh_Hans: instance_name
                llm_description: The database instance name (e.g., "82.156.146.51_3306").
                max: null
                min: null
                name: instance_name
                options: []
                placeholder:
                  en_US: The database instance name (e.g., "82.156.146.51_3306").
                  ja_JP: The database instance name (e.g., "82.156.146.51_3306").
                  pt_BR: The database instance name (e.g., "82.156.146.51_3306").
                  zh_Hans: The database instance name (e.g., "82.156.146.51_3306").
                precision: null
                required: false
                scope: null
                template: null
                type: string
              - auto_generate: null
                default: null
                form: llm
                human_description:
                  en_US: The schema name to retrieve the table information from (e.g.,
                    "cloud4db").
                  ja_JP: The schema name to retrieve the table information from (e.g.,
                    "cloud4db").
                  pt_BR: The schema name to retrieve the table information from (e.g.,
                    "cloud4db").
                  zh_Hans: The schema name to retrieve the table information from
                    (e.g., "cloud4db").
                label:
                  en_US: schema_name
                  ja_JP: schema_name
                  pt_BR: schema_name
                  zh_Hans: schema_name
                llm_description: The schema name to retrieve the table information
                  from (e.g., "cloud4db").
                max: null
                min: null
                name: schema_name
                options: []
                placeholder:
                  en_US: The schema name to retrieve the table information from (e.g.,
                    "cloud4db").
                  ja_JP: The schema name to retrieve the table information from (e.g.,
                    "cloud4db").
                  pt_BR: The schema name to retrieve the table information from (e.g.,
                    "cloud4db").
                  zh_Hans: The schema name to retrieve the table information from
                    (e.g., "cloud4db").
                precision: null
                required: false
                scope: null
                template: null
                type: string
              settings: {}
              tool_description: Get all table names and comments for a specific database
                instance and schema.
              tool_label: GetAllTableNamesAndComments
              tool_name: GetAllTableNamesAndComments
              type: api
            - enabled: true
              extra:
                description: Get the structure of specified tables for a specific
                  database instance and schema.
              parameters:
                instance_name:
                  auto: 1
                  value: null
                schema_name:
                  auto: 1
                  value: null
                table_names:
                  auto: 1
                  value: null
              provider_name: dc3bf313-b37b-4229-b632-3a6893249f5b
              schemas:
              - auto_generate: null
                default: null
                form: llm
                human_description:
                  en_US: The database instance name (e.g., "82.156.146.51_3306").
                  ja_JP: The database instance name (e.g., "82.156.146.51_3306").
                  pt_BR: The database instance name (e.g., "82.156.146.51_3306").
                  zh_Hans: The database instance name (e.g., "82.156.146.51_3306").
                label:
                  en_US: instance_name
                  ja_JP: instance_name
                  pt_BR: instance_name
                  zh_Hans: instance_name
                llm_description: The database instance name (e.g., "82.156.146.51_3306").
                max: null
                min: null
                name: instance_name
                options: []
                placeholder:
                  en_US: The database instance name (e.g., "82.156.146.51_3306").
                  ja_JP: The database instance name (e.g., "82.156.146.51_3306").
                  pt_BR: The database instance name (e.g., "82.156.146.51_3306").
                  zh_Hans: The database instance name (e.g., "82.156.146.51_3306").
                precision: null
                required: false
                scope: null
                template: null
                type: string
              - auto_generate: null
                default: null
                form: llm
                human_description:
                  en_US: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                  ja_JP: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                  pt_BR: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                  zh_Hans: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                label:
                  en_US: schema_name
                  ja_JP: schema_name
                  pt_BR: schema_name
                  zh_Hans: schema_name
                llm_description: The schema name to retrieve the table structure from
                  (e.g., "cloud4db").
                max: null
                min: null
                name: schema_name
                options: []
                placeholder:
                  en_US: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                  ja_JP: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                  pt_BR: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                  zh_Hans: The schema name to retrieve the table structure from (e.g.,
                    "cloud4db").
                precision: null
                required: false
                scope: null
                template: null
                type: string
              - auto_generate: null
                default: null
                form: llm
                human_description:
                  en_US: The name of the table(s) to retrieve the structure for (e.g.,
                    "auth_group,mysql_cluster").
                  ja_JP: The name of the table(s) to retrieve the structure for (e.g.,
                    "auth_group,mysql_cluster").
                  pt_BR: The name of the table(s) to retrieve the structure for (e.g.,
                    "auth_group,mysql_cluster").
                  zh_Hans: The name of the table(s) to retrieve the structure for
                    (e.g., "auth_group,mysql_cluster").
                label:
                  en_US: table_names
                  ja_JP: table_names
                  pt_BR: table_names
                  zh_Hans: table_names
                llm_description: The name of the table(s) to retrieve the structure
                  for (e.g., "auth_group,mysql_cluster").
                max: null
                min: null
                name: table_names
                options: []
                placeholder:
                  en_US: The name of the table(s) to retrieve the structure for (e.g.,
                    "auth_group,mysql_cluster").
                  ja_JP: The name of the table(s) to retrieve the structure for (e.g.,
                    "auth_group,mysql_cluster").
                  pt_BR: The name of the table(s) to retrieve the structure for (e.g.,
                    "auth_group,mysql_cluster").
                  zh_Hans: The name of the table(s) to retrieve the structure for
                    (e.g., "auth_group,mysql_cluster").
                precision: null
                required: false
                scope: null
                template: null
                type: string
              settings: {}
              tool_description: Get the structure of specified tables for a specific
                database instance and schema.
              tool_label: GetTableStructures
              tool_name: GetTableStructures
              type: api
        agent_strategy_label: FunctionCalling
        agent_strategy_name: function_calling
        agent_strategy_provider_name: langgenius/agent/agent
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          window:
            enabled: false
            size: 50
        output_schema: null
        plugin_unique_identifier: langgenius/agent:0.0.15@3cb96179914f8c4025282bcb1cc2fd5a951f6be0877567b02daee01e28ca4bf3
        selected: true
        title: Agent
        type: agent
      height: 273
      id: '1747810753072'
      position:
        x: 382.96042056482474
        y: 282
      positionAbsolute:
        x: 382.96042056482474
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 18.534181358850446
      y: 17.901535957999215
      zoom: 0.9619274546647749
